(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{setIsModalOpen:()=>r});var t={};e.r(t),e.d(t,{isModalOpen:()=>a});const o=window.React,i=window.wp.domReady;var l=e.n(i);const s=window.wp.element,d=window.wp.data;function r(e){return{type:"SET_MODAL_OPEN",isOpen:e}}function a(e){return e.modal.isOpen}const c={reducer:(0,d.combineReducers)({modal:function(e={isOpen:!1},n){return"SET_MODAL_OPEN"===n.type?{...e,isOpen:n.isOpen}:e}}),actions:n,selectors:t},u=(0,d.createReduxStore)("newfold/coming-soon",c);(0,d.register)(u);const p=window.wp.components,w=window.wp.i18n,m=()=>{const{setIsModalOpen:e}=(0,d.useDispatch)(u),{isModalOpen:n}=(0,d.useSelect)((e=>({isModalOpen:e(u).isModalOpen()})));if(!n||!window.NewfoldRuntime.comingSoon.isEnabled)return null;const t=(0,w.__)("Ready to launch your Site?","nfd-coming-soon"),i=(0,w.__)("Pages and posts you publish will not be visible to the public until you launch your site.","nfd-coming-soon"),l=(0,w.__)("Publish & Launch Site","nfd-coming-soon"),s=(0,w.__)("Publish Without Launching","nfd-coming-soon");return(0,o.createElement)(p.Modal,{title:t,onRequestClose:()=>e(!1)},(0,o.createElement)("div",null,(0,o.createElement)("p",null,i),(0,o.createElement)("br",null),(0,o.createElement)("div",{style:{alignContent:"space-between",display:"flex",flexWrap:"wrap",gap:"16px",boxSizing:"inherit"}},(0,o.createElement)(p.Button,{variant:"primary",onClick:()=>{window.NewfoldRuntime.comingSoon.disable(),e(!1)},style:{flex:1,justifyContent:"center"}},l),(0,o.createElement)(p.Button,{variant:"link",onClick:()=>e(!1),style:{flex:1,justifyContent:"center"}},s))))};l()((()=>{f("nfd-pre-publish-modal")}));const f=e=>{const n=document.createElement("div");n.id=e,document.getElementById(e)||document.body.append(n),(0,s.render)((0,o.createElement)(m,null),n)},b=()=>{const e=window.wp.data.select("core/editor").getEditedPostAttribute("status");void 0!==e?(e=>{if("publish"!==e){const e=(0,d.subscribe)((()=>{if("publish"===window.wp.data.select("core/editor").getEditedPostAttribute("status")){e();const n=()=>{document.querySelector(".components-snackbar-list__notice-container")?(0,d.dispatch)(u).setIsModalOpen(!0):setTimeout(n,50)};n()}}))}})(e):setTimeout(b,50)};b(),((window.newfold=window.newfold||{}).ComingSoon=window.newfold.ComingSoon||{})["coming-soon"]={}})();